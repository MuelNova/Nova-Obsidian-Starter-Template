<%*
    // å› ä¸ºæˆ‘æ€»æ˜¯ä¼šåœ¨å½“å¤© 12 ç‚¹ä¹‹åè®°å½•ï¼Œå› æ­¤æˆ‘æ·»åŠ äº†è¿™æ¡åˆ¤æ–­
    const now = moment();
    if (now.hours() < 5) {
        const new_name = now.subtract(1, 'days').format("YYYY-MM-DD");
        console.log(new_name);
        if (!await tp.file.exists(tp.file.folder(true) + "/" + new_name + ".md")) {
            tp.file.rename(new_name);
		    tp.file.title = new_name;
        }
    }
-%>
---
date: <% tp.file.title %>
tags: DailyNote
week: <% moment(tp.file.title).format("YYYY-[W]WW") %>
---
| Date                                                                                                                                                                                                                                                                                                                          | Weather                    |
| ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | -------------------------- |
| <% `[[${moment(tp.file.title).format('YYYY')}]], [[${moment(tp.file.title).format('YYYY-MM')} \\\| ${moment(tp.file.title).format('MMMM')}]], [[${moment(tp.file.title).format('YYYY')}-W${moment(tp.file.title).format('WW')} \\\| Week ${moment(tp.file.title).format('WW')}]], ${moment(tp.file.title).format('dddd')}` %> | <% tp.user.getWeather() %> |

--- 
## Notes
(æ€»ç»“::<% tp.system.prompt("æ¯æ—¥æ€»ç»“", "", false, true) %>)
## Daily Tracker
ğŸ˜´ç¡çœ æ—¶é—´ï¼š<% tp.user.miBand('getSleep') %>
ğŸ˜å¿ƒæƒ…: (mood:: <% await tp.system.suggester(["å¼€å¿ƒğŸ˜„", "å¹³å’ŒğŸ˜‡", "ç„¦è™‘ğŸ˜«", "ä¼¤å¿ƒğŸ˜©", "ç»æœ›ğŸ˜­"], ["Happy", "Peace", "Anxious", "Sad", "Desperate"], false, "ä½ çš„å¿ƒæƒ…æ˜¯ï¼Ÿ") %>)
ğŸ‘Ÿæ­¥æ•°: <% tp.user.miBand("getSteps") %>

## OKR Tracker
### O3 KR1 A2
â˜‘ï¸å®Œæˆï¼š(o3kr1a2:: <% await tp.system.suggester(["é”»ç‚¼äº†ğŸ’ª", "æ²¡æœ‰é”»ç‚¼ğŸ˜©"], ["1", "0"], false, "ä½ æ˜¯å¦é”»ç‚¼äº†ï¼Ÿ") %>)


## Toggl Tracker
```toggl
LIST
FROM <% moment(tp.file.title).format("YYYY-MM-DD") %> TO <% moment(tp.file.title).format("YYYY-MM-DD") %>
```
```toggl
SUMMARY
FROM <% moment(tp.file.title).format("YYYY-MM-DD") %> TO <% moment(tp.file.title).format("YYYY-MM-DD") %>
```

## Thino
